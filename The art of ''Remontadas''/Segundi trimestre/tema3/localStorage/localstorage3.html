<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de tareas</title>
</head>
<body>
    <h1>Escriba la tarea</h1>
    <input type="text" id="nuevatarea">
    <ul id="lista">    

    </ul>
    <button type="button" onclick="anadir()" >Guardar tarea</button>
    <script>

        var problemas=[]; //vector de elementos]
        function anadir(){
            var nuevatarea = document.getElementById("nuevatarea").value;
            var lista = document.getElementById("lista");
            var elemento = document.createElement("li");
            elemento.textContent = nuevatarea; //Observa en la consola
            lista.appendChild(elemento);
            problemas.push(elemento); //mete las tareas en problemas
            var cadena="";
            for (var i=0;i<problemas.length;i++){
                cadena = cadena + problemas[i].textContent + ","
            }
            //Al finalizar el for en cadena tengo mi lista de tareas
           // localStorage.setItem("problemas", cadena) //solo trabaja con cadenas
            localStorage.setItem('problemas', JSON.stringify(cadena));
            }

            function cargar(){
                let cadenatareas = JSON.parse(localStorage.getItem('problemas'));
               // let cadenatareas = localStorage.getItem("problemas")
                if (cadenatareas!=null){
                    //Tengo tareas pendientes
                    var elemento = document.createElement("li");
                    var lista = document.getElementById("lista");
                    elemento.textContent = cadenatareas;
                    lista.appendChild(elemento);
                }
                else{
                        //No tengo tareas
                }
                window.onload = cargar();
            }
           
            /*
        function guardar(){
            let cosas =
            localStorage.setItem("datos", cosas)
        }

        function cargar(){
        localStorage.getItem
        }
        window.onload = cargar(); */
    </script>
</body>
</html>